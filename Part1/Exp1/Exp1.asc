Version 4.1
SHEET 1 1240 680
WIRE 736 -288 -224 -288
WIRE 64 -144 -32 -144
WIRE 224 -144 128 -144
WIRE 768 -144 224 -144
WIRE 544 -64 432 -64
WIRE 736 -64 736 -288
WIRE 736 -64 624 -64
WIRE 528 64 528 48
WIRE 576 64 528 64
WIRE 736 64 736 -64
WIRE 736 64 656 64
WIRE -224 80 -224 -288
WIRE -176 80 -224 80
WIRE -32 80 -32 -144
WIRE -32 80 -96 80
WIRE 0 80 -32 80
WIRE 528 80 528 64
WIRE 224 96 224 -144
WIRE 224 96 64 96
WIRE 288 96 224 96
WIRE 432 96 432 -64
WIRE 432 96 368 96
WIRE 496 96 432 96
WIRE 0 112 -48 112
WIRE 736 112 736 64
WIRE 736 112 560 112
WIRE 768 112 736 112
WIRE 496 128 480 128
WIRE 768 240 336 240
WIRE -240 288 -240 272
WIRE -224 288 -240 288
WIRE -240 304 -240 288
WIRE 224 336 224 96
WIRE 240 336 224 336
WIRE 336 336 336 240
WIRE 336 336 304 336
WIRE 496 336 336 336
WIRE 736 352 560 352
WIRE 768 352 736 352
WIRE 304 368 304 336
WIRE 336 368 336 336
WIRE 496 368 448 368
WIRE -240 400 -240 384
WIRE -240 400 -256 400
WIRE -208 400 -240 400
WIRE -96 400 -96 368
WIRE -240 416 -240 400
WIRE 528 416 528 384
WIRE 608 416 528 416
WIRE 736 416 736 352
WIRE 736 416 688 416
WIRE 528 432 528 416
WIRE 304 464 304 448
WIRE -240 528 -240 496
WIRE -96 528 -96 480
FLAG 768 352 V_PWM
IOPIN 768 352 Out
FLAG 768 -144 V_RAMP
IOPIN 768 -144 Out
FLAG 768 112 V_SQR
IOPIN 768 112 Out
FLAG 304 464 V_BIAS
IOPIN 304 464 In
FLAG 448 368 V_CTRL
IOPIN 448 368 In
FLAG 480 128 V_CM
IOPIN 480 128 In
FLAG -48 112 V_CM
IOPIN -48 112 In
FLAG 32 128 V_DD
IOPIN 32 128 In
FLAG 528 432 V_DD
IOPIN 528 432 In
FLAG 32 64 0
FLAG 528 320 0
FLAG 528 48 V_DD
IOPIN 528 48 In
FLAG -208 400 V_CM
IOPIN -208 400 Out
FLAG -240 192 0
FLAG -240 528 0
FLAG -224 288 V_DD
IOPIN -224 288 Out
FLAG -256 400 V_BIAS
IOPIN -256 400 Out
FLAG 768 240 VRAMP_B
IOPIN 768 240 Out
FLAG -96 368 V_CTRL
IOPIN -96 368 Out
FLAG -96 528 0
FLAG 528 144 0
SYMBOL res -80 64 R90
WINDOW 0 57 89 VBottom 2
WINDOW 3 -32 53 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 384 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL res 640 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL cap 128 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.9n
SYMBOL cap 304 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C_BIAS
SYMATTR Value 1n
SYMBOL res 288 352 R0
WINDOW 0 30 49 Left 2
SYMATTR InstName R_BIAS
SYMATTR Value 10k
SYMBOL res -256 288 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res -256 400 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL voltage -240 288 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_SUPPLY
SYMATTR Value 5
SYMBOL res 672 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_pull1
SYMATTR Value 1k
SYMBOL res 704 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_pull2
SYMATTR Value 1k
SYMBOL voltage -96 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName CTRL_SUPPLY
SYMATTR Value 2.5
SYMBOL Ext_models\\LM339 560 112 R0
SYMATTR InstName U1
SYMBOL Ext_models\\LM339 560 352 M180
SYMATTR InstName U2
SYMBOL Ext_models\\MCP6001 32 96 M180
SYMATTR InstName U3
TEXT 808 488 Left 2 !.tran 0 100u 0
TEXT -72 -400 Left 4 ;Ramp Generator and PWM Modulator
TEXT 808 592 Left 2 ;Aadarsh Ramachandiran (EE23B001)
