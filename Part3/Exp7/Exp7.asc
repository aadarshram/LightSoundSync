Version 4.1
SHEET 1 1316 728
WIRE 720 48 368 48
WIRE -272 64 -320 64
WIRE -144 64 -192 64
WIRE 16 80 -48 80
WIRE 160 80 96 80
WIRE -144 112 -144 64
WIRE -96 112 -144 112
WIRE -272 160 -320 160
WIRE -144 160 -144 112
WIRE -144 160 -192 160
WIRE 368 160 368 48
WIRE 416 160 368 160
WIRE -96 176 -96 112
WIRE -48 176 -48 80
WIRE -48 176 -96 176
WIRE -16 176 -48 176
WIRE 592 176 480 176
WIRE 720 176 720 48
WIRE 720 176 656 176
WIRE 800 176 720 176
WIRE 864 176 800 176
WIRE 160 192 160 80
WIRE 160 192 48 192
WIRE 224 192 160 192
WIRE 352 192 288 192
WIRE 416 192 352 192
WIRE 800 192 800 176
WIRE -16 208 -48 208
WIRE 720 208 720 176
WIRE 160 224 160 192
WIRE 352 224 352 192
WIRE 720 288 720 272
WIRE 800 288 800 272
WIRE 896 288 800 288
WIRE 976 288 896 288
WIRE 800 304 800 288
WIRE 352 320 352 304
WIRE 896 320 896 288
WIRE 800 400 800 384
WIRE 896 400 896 384
WIRE -416 416 -448 416
WIRE -48 432 -96 432
WIRE -416 448 -448 448
WIRE -48 464 -96 464
WIRE -416 480 -448 480
FLAG 352 320 0
FLAG 896 400 0
FLAG 800 400 0
FLAG 720 288 0
FLAG 976 288 V_REF
IOPIN 976 288 Out
FLAG 864 176 V_PEAK
IOPIN 864 176 Out
FLAG -48 208 V_CM
IOPIN -48 208 In
FLAG 160 224 Vout_adder
IOPIN 160 224 Out
FLAG 352 192 Vin_ac
FLAG -320 64 Vin1
IOPIN -320 64 In
FLAG -320 160 Vin2
IOPIN -320 160 In
FLAG 448 208 VCC
IOPIN 448 208 In
FLAG 16 224 VCC
IOPIN 16 224 In
FLAG 16 160 0
FLAG 448 144 0
FLAG -48 432 Vin1
IOPIN -48 432 Out
FLAG -48 464 Vin2
IOPIN -48 464 Out
FLAG -400 688 0
FLAG -304 688 0
FLAG -160 688 0
FLAG -400 608 VCC
IOPIN -400 608 Out
FLAG -304 608 V_CM
IOPIN -304 608 Out
FLAG -160 608 Vin
IOPIN -160 608 Out
FLAG -448 480 Vin
IOPIN -448 480 In
FLAG -448 448 V_CM
IOPIN -448 448 In
FLAG -448 416 VCC
IOPIN -448 416 In
SYMBOL Ext_models\\MCP6001 16 192 M180
SYMATTR InstName OPA3
SYMBOL Ext_models\\MCP6001 448 176 M180
SYMATTR InstName OPA4
SYMBOL res -176 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ra
SYMATTR Value {R}
SYMBOL res -176 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rb
SYMATTR Value {R}
SYMBOL res 112 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rc
SYMATTR Value {R}
SYMBOL res 368 320 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL cap 288 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL cap 704 208 R0
SYMATTR InstName C2
SYMATTR Value {C2}
SYMBOL cap 880 320 R0
SYMATTR InstName C3
SYMATTR Value {C3}
SYMBOL res 784 288 R0
SYMATTR InstName R3
SYMATTR Value {R3}
SYMBOL res 784 176 R0
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL diode 592 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL p6_instance -256 448 R0
SYMATTR InstName Exp4
SYMBOL voltage -400 592 R0
WINDOW 0 -152 22 Left 2
SYMATTR InstName V_SUPPY
SYMATTR Value 5
SYMBOL voltage -304 592 R0
SYMATTR InstName V_CM
SYMATTR Value 2.5
SYMBOL voltage -160 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value SINE(0 0.45 1k)
TEXT 488 680 Left 2 !.params R=5k C1=470u R1=100k C2=10n R2=1e6 R3=3.9e5 C3=100n
TEXT 240 -168 Left 4 ;Adder and Peak Detector
TEXT -568 712 Left 2 !.tran 30m
