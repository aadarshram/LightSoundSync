Version 4.1
SHEET 1 4752 4244
WIRE -656 -64 -848 -64
WIRE -304 -64 -592 -64
WIRE -528 16 -640 16
WIRE -304 16 -304 -64
WIRE -304 16 -448 16
WIRE -960 144 -992 144
WIRE -848 144 -848 -64
WIRE -848 144 -880 144
WIRE -784 144 -848 144
WIRE -640 144 -640 16
WIRE -640 144 -720 144
WIRE -544 144 -640 144
WIRE -304 160 -304 16
WIRE -304 160 -480 160
WIRE -240 160 -304 160
WIRE -848 176 -848 144
WIRE -544 176 -576 176
WIRE 1296 176 944 176
WIRE 304 192 256 192
WIRE 432 192 384 192
WIRE 592 208 528 208
WIRE 736 208 672 208
WIRE 432 240 432 192
WIRE 480 240 432 240
WIRE -848 272 -848 256
WIRE 304 288 256 288
WIRE 432 288 432 240
WIRE 432 288 384 288
WIRE 944 288 944 176
WIRE 992 288 944 288
WIRE 480 304 480 240
WIRE 528 304 528 208
WIRE 528 304 480 304
WIRE 560 304 528 304
WIRE 1168 304 1056 304
WIRE 1296 304 1296 176
WIRE 1296 304 1232 304
WIRE 1376 304 1296 304
WIRE 1440 304 1376 304
WIRE 736 320 736 208
WIRE 736 320 624 320
WIRE 800 320 736 320
WIRE 928 320 864 320
WIRE 992 320 928 320
WIRE 1376 320 1376 304
WIRE 560 336 528 336
WIRE 1296 336 1296 304
WIRE 736 352 736 320
WIRE 928 352 928 320
WIRE -992 384 -992 144
WIRE -992 384 -1184 384
WIRE 1296 416 1296 400
WIRE 1376 416 1376 400
WIRE 1472 416 1376 416
WIRE 1552 416 1472 416
WIRE -656 432 -848 432
WIRE -304 432 -592 432
WIRE 1376 432 1376 416
WIRE 928 448 928 432
WIRE 1472 448 1472 416
WIRE -528 512 -640 512
WIRE -304 512 -304 432
WIRE -304 512 -448 512
WIRE 1376 528 1376 512
WIRE 1472 528 1472 512
WIRE -1504 592 -1504 576
WIRE -1408 592 -1408 576
WIRE -1296 592 -1296 576
WIRE -992 640 -992 384
WIRE -960 640 -992 640
WIRE -848 640 -848 432
WIRE -848 640 -880 640
WIRE -784 640 -848 640
WIRE -640 640 -640 512
WIRE -640 640 -720 640
WIRE -544 640 -640 640
WIRE -304 656 -304 512
WIRE -304 656 -480 656
WIRE -240 656 -304 656
WIRE -848 672 -848 640
WIRE -544 672 -576 672
WIRE -1504 704 -1504 672
WIRE -1408 704 -1408 672
WIRE -1296 704 -1296 672
WIRE -848 768 -848 752
WIRE 1088 1088 672 1088
WIRE 864 1152 816 1152
WIRE 2496 1152 1952 1152
WIRE 672 1168 672 1088
WIRE 704 1168 672 1168
WIRE 848 1184 816 1184
WIRE 2032 1184 2032 1136
WIRE 704 1200 464 1200
WIRE 1952 1200 1952 1152
WIRE 1984 1200 1952 1200
WIRE 848 1216 816 1216
WIRE 464 1248 464 1200
WIRE 464 1248 208 1248
WIRE 864 1264 864 1152
WIRE 864 1264 672 1264
WIRE -272 1296 -1232 1296
WIRE 1616 1296 1616 1264
WIRE 1744 1296 1744 1264
WIRE 768 1312 768 1296
WIRE 592 1344 576 1344
WIRE 672 1344 672 1264
WIRE 672 1344 656 1344
WIRE 720 1344 672 1344
WIRE 880 1344 832 1344
WIRE 2496 1344 2064 1344
WIRE 464 1360 464 1248
WIRE 1088 1376 1088 1088
WIRE 1552 1376 1088 1376
WIRE 1952 1376 1952 1200
WIRE 1952 1376 1808 1376
WIRE 768 1408 768 1376
WIRE 2032 1408 2032 1280
WIRE 2064 1408 2064 1344
WIRE 2064 1408 2032 1408
WIRE 2096 1408 2064 1408
WIRE 2304 1408 2176 1408
WIRE 2496 1408 2304 1408
WIRE 432 1424 384 1424
WIRE 528 1424 496 1424
WIRE 2304 1424 2304 1408
WIRE -944 1440 -1040 1440
WIRE -784 1440 -880 1440
WIRE -240 1440 -784 1440
WIRE 1552 1472 1088 1472
WIRE 1952 1472 1808 1472
WIRE -464 1520 -576 1520
WIRE -272 1520 -272 1296
WIRE -272 1520 -384 1520
WIRE 2032 1520 2032 1408
WIRE 2304 1520 2304 1488
WIRE 768 1536 768 1520
WIRE 944 1536 944 1520
WIRE 4064 1536 4064 1488
WIRE 3264 1552 3216 1552
WIRE 3408 1552 3328 1552
WIRE 592 1568 576 1568
WIRE 672 1568 656 1568
WIRE 720 1568 672 1568
WIRE 896 1568 832 1568
WIRE 1120 1568 1008 1568
WIRE 1616 1584 1616 1552
WIRE 1744 1584 1744 1552
WIRE 1952 1600 1952 1472
WIRE 1984 1600 1952 1600
WIRE 3344 1616 3344 1600
WIRE 768 1632 768 1600
WIRE 944 1632 944 1600
WIRE 3408 1632 3408 1552
WIRE 3408 1632 3376 1632
WIRE 3472 1632 3408 1632
WIRE 3584 1632 3552 1632
WIRE -480 1648 -480 1632
WIRE -432 1648 -480 1648
WIRE -272 1648 -272 1520
WIRE -272 1648 -352 1648
WIRE 3216 1648 3216 1552
WIRE 3216 1648 3184 1648
WIRE 3312 1648 3216 1648
WIRE -1232 1664 -1232 1296
WIRE -1184 1664 -1232 1664
WIRE -1040 1664 -1040 1440
WIRE -1040 1664 -1104 1664
WIRE -1008 1664 -1040 1664
WIRE -480 1664 -480 1648
WIRE 3392 1664 3376 1664
WIRE 4064 1664 4064 1600
WIRE 4064 1664 4032 1664
WIRE -784 1680 -784 1440
WIRE -784 1680 -944 1680
WIRE -720 1680 -784 1680
WIRE -576 1680 -576 1520
WIRE -576 1680 -640 1680
WIRE -512 1680 -576 1680
WIRE -1008 1696 -1056 1696
WIRE -272 1696 -272 1648
WIRE -272 1696 -448 1696
WIRE -240 1696 -272 1696
WIRE 1952 1696 1952 1600
WIRE 2496 1696 1952 1696
WIRE 3344 1696 3344 1680
WIRE -512 1712 -528 1712
WIRE 672 1712 672 1568
WIRE 880 1712 672 1712
WIRE 4064 1712 4064 1664
WIRE 880 1760 880 1712
WIRE 880 1760 832 1760
WIRE 720 1776 688 1776
WIRE 848 1792 832 1792
WIRE 1008 1792 1008 1760
WIRE 464 1808 464 1472
WIRE 720 1808 464 1808
WIRE -240 1824 -672 1824
WIRE 864 1824 832 1824
WIRE 944 1824 928 1824
WIRE 1088 1824 1088 1472
WIRE 1088 1824 1056 1824
WIRE 4064 1824 4064 1792
WIRE 688 1872 688 1776
WIRE 928 1872 928 1824
WIRE 928 1872 688 1872
WIRE 1008 1888 1008 1856
WIRE -784 1920 -784 1680
WIRE -768 1920 -784 1920
WIRE -672 1920 -672 1824
WIRE -672 1920 -704 1920
WIRE -512 1920 -672 1920
WIRE -272 1936 -448 1936
WIRE -240 1936 -272 1936
WIRE -704 1952 -704 1920
WIRE -672 1952 -672 1920
WIRE -512 1952 -560 1952
WIRE -480 2000 -480 1968
WIRE -400 2000 -480 2000
WIRE -272 2000 -272 1936
WIRE -272 2000 -320 2000
WIRE -480 2016 -480 2000
WIRE -704 2048 -704 2032
WIRE 2304 2384 2304 2352
WIRE 2224 2400 1984 2400
WIRE 3472 2464 3472 2448
WIRE 2160 2480 2128 2480
WIRE 2752 2480 2752 2448
WIRE 2928 2480 2928 2448
WIRE 1984 2496 1984 2400
WIRE 2016 2496 1984 2496
WIRE 2144 2512 2128 2512
WIRE 2224 2512 2224 2400
WIRE 2224 2512 2176 2512
WIRE 2304 2512 2304 2448
WIRE 2304 2512 2224 2512
WIRE 2688 2512 2304 2512
WIRE 2864 2512 2800 2512
WIRE 3216 2512 2976 2512
WIRE 3408 2512 3296 2512
WIRE 1808 2528 1552 2528
WIRE 2016 2528 1808 2528
WIRE 2144 2544 2128 2544
WIRE 2752 2560 2752 2544
WIRE 2928 2576 2928 2544
WIRE 1808 2592 1808 2528
WIRE 1776 2656 1744 2656
WIRE 1872 2656 1840 2656
WIRE 3472 2656 3472 2560
WIRE 3584 2656 3472 2656
WIRE 3472 2720 3472 2656
WIRE 2144 2736 2128 2736
WIRE 2528 2736 2528 2704
WIRE 2752 2736 2752 2704
WIRE 2928 2736 2928 2704
WIRE 1808 2752 1808 2704
WIRE 2016 2752 1808 2752
WIRE 2144 2768 2128 2768
WIRE 2160 2768 2160 2480
WIRE 2224 2768 2160 2768
WIRE 2304 2768 2224 2768
WIRE 2464 2768 2304 2768
WIRE 2688 2768 2576 2768
WIRE 2864 2768 2800 2768
WIRE 3216 2768 2976 2768
WIRE 3408 2768 3296 2768
WIRE 2016 2784 1984 2784
WIRE 176 2800 176 2784
WIRE 192 2800 176 2800
WIRE 288 2800 272 2800
WIRE 2176 2800 2176 2512
WIRE 2176 2800 2128 2800
WIRE 2304 2832 2304 2768
WIRE 2528 2832 2528 2800
WIRE 2752 2832 2752 2800
WIRE 2928 2832 2928 2800
WIRE 3472 2832 3472 2816
WIRE 176 2848 176 2800
WIRE 144 2864 96 2864
WIRE 288 2880 288 2800
WIRE 288 2880 208 2880
WIRE 336 2880 288 2880
WIRE 144 2896 96 2896
WIRE 1984 2896 1984 2784
WIRE 2224 2896 2224 2768
WIRE 2224 2896 1984 2896
WIRE 2304 2928 2304 2896
WIRE -592 2960 -704 2960
WIRE -400 2960 -512 2960
WIRE 3632 2960 3488 2960
WIRE 3840 2960 3712 2960
WIRE -896 3040 -928 3040
WIRE -816 3040 -832 3040
WIRE -704 3040 -704 2960
WIRE -704 3040 -736 3040
WIRE -656 3040 -704 3040
WIRE -400 3056 -400 2960
WIRE -400 3056 -592 3056
WIRE -320 3056 -400 3056
WIRE 3840 3056 3840 2960
WIRE -656 3072 -672 3072
WIRE 176 3088 176 3072
WIRE 192 3088 176 3088
WIRE 288 3088 272 3088
WIRE 176 3136 176 3088
WIRE 144 3152 96 3152
WIRE -832 3168 -832 3040
WIRE -320 3168 -832 3168
WIRE 288 3168 288 3088
WIRE 288 3168 208 3168
WIRE 336 3168 288 3168
WIRE 144 3184 96 3184
WIRE 3632 3232 3488 3232
WIRE 3840 3232 3840 3136
WIRE 3840 3232 3712 3232
WIRE 2304 3312 2304 3280
WIRE 2224 3328 1984 3328
WIRE 3520 3392 3520 3376
WIRE 2160 3408 2128 3408
WIRE 2752 3408 2752 3376
WIRE 2928 3408 2928 3376
WIRE 1984 3424 1984 3328
WIRE 2016 3424 1984 3424
WIRE 2144 3440 2128 3440
WIRE 2224 3440 2224 3328
WIRE 2224 3440 2176 3440
WIRE 2304 3440 2304 3376
WIRE 2304 3440 2224 3440
WIRE 2688 3440 2304 3440
WIRE 2864 3440 2800 3440
WIRE 3264 3440 2976 3440
WIRE 3456 3440 3344 3440
WIRE 1808 3456 1552 3456
WIRE 2016 3456 1808 3456
WIRE 2144 3472 2128 3472
WIRE 2752 3488 2752 3472
WIRE 2928 3504 2928 3472
WIRE 1808 3520 1808 3456
WIRE 1776 3584 1744 3584
WIRE 1872 3584 1840 3584
WIRE 3520 3584 3520 3488
WIRE 3632 3584 3520 3584
WIRE 3520 3648 3520 3584
WIRE 2144 3664 2128 3664
WIRE 2528 3664 2528 3632
WIRE 2752 3664 2752 3632
WIRE 2928 3664 2928 3632
WIRE 1808 3680 1808 3632
WIRE 2016 3680 1808 3680
WIRE 2144 3696 2128 3696
WIRE 2160 3696 2160 3408
WIRE 2224 3696 2160 3696
WIRE 2304 3696 2224 3696
WIRE 2464 3696 2304 3696
WIRE 2688 3696 2576 3696
WIRE 2864 3696 2800 3696
WIRE 3264 3696 2976 3696
WIRE 3456 3696 3344 3696
WIRE 2016 3712 1984 3712
WIRE 2176 3728 2176 3440
WIRE 2176 3728 2128 3728
WIRE 2304 3760 2304 3696
WIRE 2528 3760 2528 3728
WIRE 2752 3760 2752 3728
WIRE 2928 3760 2928 3728
WIRE 3520 3760 3520 3744
WIRE 1984 3824 1984 3712
WIRE 2224 3824 2224 3696
WIRE 2224 3824 1984 3824
WIRE 2304 3856 2304 3824
FLAG -240 160 Vout_bpf1
IOPIN -240 160 Out
FLAG -576 176 Vcm
IOPIN -576 176 In
FLAG -848 272 0
FLAG -512 192 Vcc
IOPIN -512 192 In
FLAG -512 128 0
FLAG -240 656 Vout_bpf2
IOPIN -240 656 Out
FLAG -576 672 Vcm
IOPIN -576 672 In
FLAG -848 768 0
FLAG -512 688 Vcc
IOPIN -512 688 In
FLAG -512 624 0
FLAG -1184 384 Vin_audio
IOPIN -1184 384 In
FLAG -1504 704 0
FLAG -1408 704 0
FLAG -1504 576 Vcc
IOPIN -1504 576 Out
FLAG -1408 576 Vcm
IOPIN -1408 576 Out
FLAG -1296 704 0
FLAG -1296 576 Vin_audio
IOPIN -1296 576 Out
FLAG 928 448 0
FLAG 1472 528 0
FLAG 1376 528 0
FLAG 1296 416 0
FLAG 1552 416 V_REF
IOPIN 1552 416 Out
FLAG 1440 304 V_PEAK
IOPIN 1440 304 Out
FLAG 528 336 Vcm
IOPIN 528 336 In
FLAG 736 352 Vout_adder
IOPIN 736 352 Out
FLAG 928 320 Vin_ac
FLAG 256 192 Vout_bpf1
IOPIN 256 192 In
FLAG 256 288 Vout_bpf2
IOPIN 256 288 In
FLAG 1024 336 VCC
IOPIN 1024 336 In
FLAG 592 352 VCC
IOPIN 592 352 In
FLAG 592 288 0
FLAG 1024 272 0
FLAG -240 1936 V_PWM
IOPIN -240 1936 Out
FLAG -240 1440 V_RAMP
IOPIN -240 1440 Out
FLAG -240 1696 V_SQR
IOPIN -240 1696 Out
FLAG -704 2048 V_BIAS
IOPIN -704 2048 In
FLAG -560 1952 V_CTRL
IOPIN -560 1952 In
FLAG -528 1712 Vcm
IOPIN -528 1712 In
FLAG -1056 1696 Vcm
IOPIN -1056 1696 In
FLAG -976 1712 VCC
IOPIN -976 1712 In
FLAG -480 2016 VCC
IOPIN -480 2016 In
FLAG -976 1648 0
FLAG -480 1904 0
FLAG -480 1632 VCC
IOPIN -480 1632 In
FLAG -240 1824 VRAMP_B
IOPIN -240 1824 Out
FLAG -480 1728 0
FLAG 576 1344 0
FLAG 576 1568 0
FLAG 2304 1520 0
FLAG 2032 1616 0
FLAG 208 1248 V_PWM
IOPIN 208 1248 In
FLAG 2496 1408 V_OUT
IOPIN 2496 1408 Out
FLAG 2496 1344 V_SW
IOPIN 2496 1344 Out
FLAG 880 1344 V_GATE_N
IOPIN 880 1344 In
FLAG 1120 1568 V_GATE_P
IOPIN 1120 1568 In
FLAG 2496 1152 V_GATE_P
IOPIN 2496 1152 Out
FLAG 2496 1696 V_GATE_N
IOPIN 2496 1696 Out
FLAG 528 1424 VCC
IOPIN 528 1424 In
FLAG 768 1408 VCC
IOPIN 768 1408 In
FLAG 768 1632 VCC
IOPIN 768 1632 In
FLAG 944 1632 VCC
IOPIN 944 1632 In
FLAG 848 1792 VCC
IOPIN 848 1792 In
FLAG 384 1424 0
FLAG 848 1184 VCC
IOPIN 848 1184 In
FLAG 848 1216 0
FLAG 768 1296 0
FLAG 864 1824 0
FLAG 768 1520 0
FLAG 944 1520 0
FLAG 1008 1760 VCC
IOPIN 1008 1760 In
FLAG 1008 1888 0
FLAG 1616 1584 0
FLAG 1744 1584 0
FLAG 1616 1264 VCC
IOPIN 1616 1264 In
FLAG 1744 1264 VCC
IOPIN 1744 1264 In
FLAG 2032 1136 VCC
IOPIN 2032 1136 In
FLAG 4064 1824 0
FLAG 4064 1488 V_OUT
IOPIN 4064 1488 In
FLAG 3344 1600 0
FLAG 3344 1696 VCC
IOPIN 3344 1696 In
FLAG 3392 1664 V_REF
IOPIN 3392 1664 In
FLAG 3584 1632 V_FB
IOPIN 3584 1632 In
FLAG 3184 1648 V_CTRL
IOPIN 3184 1648 Out
FLAG 4032 1664 V_FB
IOPIN 4032 1664 Out
FLAG -320 3056 Vin_a_i
IOPIN -320 3056 Out
FLAG -320 3168 Vin_a_ni
IOPIN -320 3168 Out
FLAG -928 3040 Vout_adder
IOPIN -928 3040 In
FLAG -624 3024 0
FLAG -624 3088 VCC
IOPIN -624 3088 In
FLAG 96 2864 Vin_a_i
IOPIN 96 2864 In
FLAG 96 3152 Vin_a_ni
IOPIN 96 3152 In
FLAG 96 2896 V_RAMP
IOPIN 96 2896 In
FLAG 96 3184 V_RAMP
IOPIN 96 3184 In
FLAG 336 2880 Vpwm_p
IOPIN 336 2880 Out
FLAG 336 3168 Vpwm_n
IOPIN 336 3168 Out
FLAG 176 2784 VCC
IOPIN 176 2784 In
FLAG 176 3072 VCC
IOPIN 176 3072 In
FLAG 176 2912 0
FLAG 176 3200 0
FLAG -672 3072 Vcm
IOPIN -672 3072 In
FLAG 2304 2928 0
FLAG 2304 2352 0
FLAG 3472 2448 VCC
IOPIN 3472 2448 In
FLAG 2144 2512 VCC
IOPIN 2144 2512 In
FLAG 2144 2768 VCC
IOPIN 2144 2768 In
FLAG 1872 2656 VCC
IOPIN 1872 2656 In
FLAG 2144 2544 0
FLAG 2144 2736 0
FLAG 1744 2656 0
FLAG 2752 2448 VCC
IOPIN 2752 2448 In
FLAG 2928 2448 VCC
IOPIN 2928 2448 In
FLAG 2752 2704 VCC
IOPIN 2752 2704 In
FLAG 2928 2704 VCC
IOPIN 2928 2704 In
FLAG 2928 2576 0
FLAG 2928 2832 0
FLAG 3472 2832 0
FLAG 3584 2656 Vout_p
IOPIN 3584 2656 Out
FLAG 1552 2528 Vpwm_p
IOPIN 1552 2528 In
FLAG 2752 2832 0
FLAG 2752 2560 0
FLAG 2304 3856 0
FLAG 2304 3280 0
FLAG 3520 3376 VCC
IOPIN 3520 3376 In
FLAG 2144 3440 VCC
IOPIN 2144 3440 In
FLAG 2144 3696 VCC
IOPIN 2144 3696 In
FLAG 1872 3584 VCC
IOPIN 1872 3584 In
FLAG 2144 3472 0
FLAG 2144 3664 0
FLAG 1744 3584 0
FLAG 2752 3376 VCC
IOPIN 2752 3376 In
FLAG 2928 3376 VCC
IOPIN 2928 3376 In
FLAG 2752 3632 VCC
IOPIN 2752 3632 In
FLAG 2928 3632 VCC
IOPIN 2928 3632 In
FLAG 2928 3504 0
FLAG 2928 3760 0
FLAG 3520 3760 0
FLAG 3632 3584 Vout_n
IOPIN 3632 3584 Out
FLAG 1552 3456 Vpwm_n
IOPIN 1552 3456 In
FLAG 2752 3760 0
FLAG 2752 3488 0
FLAG 3488 2960 Vout_p
IOPIN 3488 2960 In
FLAG 3488 3232 Vout_n
IOPIN 3488 3232 In
FLAG 2528 3632 VCC
IOPIN 2528 3632 In
FLAG 2528 3760 0
FLAG 2528 2704 VCC
IOPIN 2528 2704 In
FLAG 2528 2832 0
SYMBOL Ext_models\\MCP6001 -512 160 M180
SYMATTR InstName U1
SYMBOL cap -720 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Ca1
SYMATTR Value {Ca}
SYMBOL cap -592 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Ca2
SYMATTR Value {Ca}
SYMBOL res -864 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R11a}
SYMBOL res -432 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R22a}
SYMBOL res -864 160 R0
SYMATTR InstName R3
SYMATTR Value {R33a}
SYMBOL Ext_models\\MCP6001 -512 656 M180
SYMATTR InstName U2
SYMBOL cap -720 624 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cb1
SYMATTR Value {Cb}
SYMBOL cap -592 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cb2
SYMATTR Value {Cb}
SYMBOL res -864 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R11b}
SYMBOL res -432 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R22b}
SYMBOL res -864 656 R0
SYMATTR InstName R6
SYMATTR Value {R33b}
SYMBOL voltage -1504 576 R0
SYMATTR InstName VCC1
SYMATTR Value 5
SYMBOL voltage -1408 576 R0
SYMATTR InstName VCM1
SYMATTR Value 2.5
SYMBOL voltage -1296 576 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin1
SYMATTR Value SINE(0 0.45 1k)
SYMBOL Ext_models\\MCP6001 592 320 M180
SYMATTR InstName OPA1
SYMBOL Ext_models\\MCP6001 1024 304 M180
SYMATTR InstName OPA2
SYMBOL res 400 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ra1
SYMATTR Value {R}
SYMBOL res 400 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rb1
SYMATTR Value {R}
SYMBOL res 688 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rc1
SYMATTR Value {R}
SYMBOL res 944 448 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value {R1}
SYMBOL cap 864 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL cap 1280 336 R0
SYMATTR InstName C2
SYMATTR Value {C2}
SYMBOL cap 1456 448 R0
SYMATTR InstName C3
SYMATTR Value {C3}
SYMBOL res 1360 416 R0
SYMATTR InstName R8
SYMATTR Value {R3}
SYMBOL res 1360 304 R0
SYMATTR InstName R9
SYMATTR Value {R2}
SYMBOL diode 1168 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -1088 1648 R90
WINDOW 0 57 89 VBottom 2
WINDOW 3 -32 53 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -624 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20k
SYMBOL res -368 1504 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL cap -880 1424 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.9n
SYMBOL cap -704 1904 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C_BIAS1
SYMATTR Value 1n
SYMBOL res -720 1936 R0
WINDOW 0 30 49 Left 2
SYMATTR InstName R_BIAS1
SYMATTR Value 10k
SYMBOL res -336 1632 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_pull1
SYMATTR Value 1k
SYMBOL res -304 1984 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_pull2
SYMATTR Value 1k
SYMBOL Ext_models\\LM339 -448 1696 R0
SYMATTR InstName U3
SYMBOL Ext_models\\LM339 -448 1936 M180
SYMATTR InstName U4
SYMBOL Ext_models\\MCP6001 -976 1680 M180
SYMATTR InstName U5
SYMBOL cap 656 1328 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C_p1
SYMATTR Value {C_p}
SYMBOL cap 656 1552 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C_n1
SYMATTR Value {C_n}
SYMBOL nmos 1984 1520 R0
SYMATTR InstName M1
SYMATTR Value NTMFS5C646NL
SYMBOL Ext_models\\SN74AHC00 752 1184 R0
SYMATTR InstName U6
SYMBOL Ext_models\\SN74AHC00 768 1792 R0
SYMATTR InstName U7
SYMBOL Ext_models\\CD4069UB 992 1824 R0
SYMATTR InstName U8
SYMBOL Ext_models\\CD4069UB 784 1344 R180
SYMATTR InstName U9
SYMBOL Ext_models\\CD4069UB 784 1568 R180
SYMATTR InstName U10
SYMBOL Ext_models\\CD4069UB 960 1568 R180
SYMATTR InstName U11
SYMBOL Ext_models\\CD4069UB 464 1408 R90
SYMATTR InstName U12
SYMBOL PowerProducts\\LTC1693-1 1680 1424 R0
SYMATTR InstName U13
SYMBOL pmos 1984 1280 M180
SYMATTR InstName M2
SYMATTR Value Si4427DY
SYMBOL ind 2192 1392 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value {L_f}
SYMBOL cap 2288 1424 R0
SYMATTR InstName C5
SYMATTR Value {C_f}
SYMBOL res 4048 1696 R0
SYMATTR InstName R_SENSE1
SYMATTR Value {R_sense}
SYMBOL LED 4048 1536 R0
SYMATTR InstName D2
SYMATTR Value L128-FRD1003500000
SYMBOL Ext_models\\MCP6001 3344 1648 R180
SYMATTR InstName U14
SYMBOL cap 3328 1536 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value {C_c}
SYMBOL res 3568 1616 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value {R_c}
SYMBOL Ext_models\\MCP6001 -624 3056 M180
SYMATTR InstName U15
SYMBOL res -496 2944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value {R2_4}
SYMBOL res -720 3024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value {R1_4}
SYMBOL cap -832 3024 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cin1
SYMATTR Value {Cin}
SYMBOL Ext_models\\LM339 208 2880 R0
SYMATTR InstName CMP1
SYMBOL Ext_models\\LM339 208 3168 R0
SYMATTR InstName CMP2
SYMBOL res 288 2784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL res 288 3072 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 1k
SYMBOL Ext_models\\SN74AHC00 2064 2512 R0
SYMATTR InstName U16
SYMBOL Ext_models\\SN74AHC00 2064 2768 M180
SYMATTR InstName U17
SYMBOL Ext_models\\CD4069UB 1808 2640 R90
WINDOW 3 80 41 Top 1
SYMATTR InstName U18
SYMBOL cap 2288 2832 R0
SYMATTR InstName C7
SYMATTR Value {C}
SYMBOL cap 2288 2384 R0
SYMATTR InstName C8
SYMATTR Value {C}
SYMBOL Ext_models\\CD4069UB 2736 2512 R0
SYMATTR InstName U19
SYMBOL Ext_models\\CD4069UB 2912 2512 R0
SYMATTR InstName U20
SYMBOL Ext_models\\CD4069UB 2736 2768 R0
SYMATTR InstName U21
SYMBOL Ext_models\\CD4069UB 2912 2768 R0
SYMATTR InstName U22
SYMBOL res 3312 2496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value {R_b}
SYMBOL res 3312 2752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {R_b}
SYMBOL npn 3408 2720 R0
SYMATTR InstName Q_n1
SYMATTR Value 2N2222
SYMBOL pnp 3408 2560 M180
SYMATTR InstName Q_p1
SYMATTR Value 2N2907
SYMBOL Ext_models\\SN74AHC00 2064 3440 R0
SYMATTR InstName U23
SYMBOL Ext_models\\SN74AHC00 2064 3696 M180
SYMATTR InstName U24
SYMBOL Ext_models\\CD4069UB 1808 3568 R90
WINDOW 3 80 41 Top 1
SYMATTR InstName U25
SYMBOL cap 2288 3760 R0
SYMATTR InstName C9
SYMATTR Value {C}
SYMBOL cap 2288 3312 R0
SYMATTR InstName C10
SYMATTR Value {C}
SYMBOL Ext_models\\CD4069UB 2736 3440 R0
SYMATTR InstName U26
SYMBOL Ext_models\\CD4069UB 2912 3440 R0
SYMATTR InstName U27
SYMBOL Ext_models\\CD4069UB 2736 3696 R0
SYMATTR InstName U28
SYMBOL Ext_models\\CD4069UB 2912 3696 R0
SYMATTR InstName U29
SYMBOL res 3360 3424 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value {R_b}
SYMBOL res 3360 3680 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value {R_b}
SYMBOL npn 3456 3648 R0
SYMATTR InstName Q_n2
SYMATTR Value 2N2222
SYMBOL pnp 3456 3488 M180
SYMATTR InstName Q_p2
SYMATTR Value 2N2907
SYMBOL res 3728 2944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value {Rl_2}
SYMBOL res 3728 3216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value {Rl_2}
SYMBOL ind 3824 3040 R0
SYMATTR InstName L2
SYMATTR Value {Ls}
SYMBOL Ext_models\\CD4069UB 2512 2768 R0
SYMATTR InstName U30
SYMBOL Ext_models\\CD4069UB 2512 3696 R0
SYMATTR InstName U31
TEXT -1240 944 Left 2 !.param R11a=220k R22a=430k R33a=1.2k Ca=2.3n R11b=200k R22b=400k R33b=1k Cb=7.8n
TEXT -960 -208 Left 4 ;Band Pass Filters
TEXT -640 800 Left 2 ;1kHz-Bandpass
TEXT -632 312 Left 2 ;3kHz-Bandpass
TEXT 368 624 Left 2 !.params R=100k C1=100n R1=100k C2=5n R2=500k R3=400k C3=150n
TEXT 4072 4120 Left 2 !.tran 0 50m 0 1m startup uic
TEXT -1080 1184 Left 4 ;Ramp Generator and PWM Modulator
TEXT 760 2056 Center 2 ;Non-overlap Clock Generator
TEXT 1632 1688 Left 2 ;Gate Driver
TEXT 2160 1520 Left 2 ;LPF
TEXT 1576 872 Center 4 ;Power Stage and LPF
TEXT 4256 4216 Center 4 ;Aadarsh Ramachandiran-EE23B001
TEXT -528 -536 Left 5 ;Analog Systems and Lab (2025)
TEXT 648 2232 Left 2 !.params C_p=1n C_n=1n C_f=47u L_f=100u R_f=0.35
TEXT 3360 1976 Left 2 !.params V_SUPPLY=5 V_REF=0.25 R_sense=5 R_c=10k C_c=50n
TEXT 3248 1832 Left 2 ;Type-I Compensator
TEXT -448 3600 Left 2 !.param R1_4=10k R2_4=10k Cin=85n
TEXT -696 2448 Left 4 ;Single-ended to differential input converter and PWM modulator
TEXT -792 3400 Left 2 ;Single ended-to-differential Converter
TEXT 160 3392 Left 2 ;PWM Modulator
TEXT 1856 3040 Left 2 ;Non-overlap Clock Generator
TEXT 2952 3040 Left 2 ;H-bridge driver
TEXT 1856 3968 Left 2 ;Non-overlap Clock Generator
TEXT 2952 3968 Left 2 ;H-bridge driver
TEXT 3944 3088 Left 2 ;Model for speaker
TEXT 2384 4144 Left 2 !.params C=10n R_b=50 Rl_2=16 Ls=100u
TEXT 712 -16 Left 4 ;Adder and Peak Detector
TEXT 3424 1224 Left 4 ;Compensator and Diode
TEXT 2464 2168 Left 4 ;H-Bridge Driver
TEXT 2728 392 Left 6 ;Analog Systems and Lab (2025)
LINE Normal 2448 1760 2448 1072 2
RECTANGLE Normal 2320 1552 2064 1296 2
RECTANGLE Normal 1312 2000 272 992 2
RECTANGLE Normal 1888 1648 1456 1152 2
RECTANGLE Normal 3744 1792 3008 1440 2
RECTANGLE Normal 528 3312 -64 2640 2
RECTANGLE Normal -128 3296 -1072 2784 2
RECTANGLE Normal 2384 2992 1648 2288 2
RECTANGLE Normal 3360 2912 2672 2352 2
RECTANGLE Normal 2384 3920 1648 3216 2
RECTANGLE Normal 3360 3840 2672 3280 2
